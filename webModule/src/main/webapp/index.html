<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Contacts List</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.2.0/mustache.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.3/moment.min.js"></script>
    <script src="https://cdn.polyfill.io/v2/polyfill.js?features=fetch,Promise"></script>
    <script type="text/javascript" src="js/utility.js"></script>
    <script type="text/javascript" src="js/mainForm.js"></script>
    <script type="text/javascript" src="js/createForm.js"></script>
    <script type="text/javascript" src="js/showFullContactInfo.js"></script>
    <script type="text/javascript" src="js/deleting.js"></script>
    <script type="text/javascript" src="js/editForm.js"></script>
    <style>
        @import "css/header.css";
        @import "css/footer.css";
        @import "css/mainForm.css";
        @import "css/createForm.css";
        @import "css/editForm.css";
        body {
            margin: 0;
        }
    </style>
    <script type="text/javascript">window.onload = showAllContacts;</script>
</head>
<body>
    <div class="header">
        <a class="title" onclick="showAllContacts()">Contacts List</a>
    </div>
    <div id="mainForm">
        <table id="mainTable" style="border:1px solid black"><tbody>
        <script type="text/template" id="dynamicMainTable">
                <tr>
                    <th>Name</th>
                    <th>Birth Date</th>
                    <th>Address</th>
                    <th>Current Workplace</th>
                </tr>
                {{#.}}
                <tr>
                    <td><input type="checkbox" value={{id}}><a onclick="showFullContactInfoForm({{id}});">  {{firstName}} {{surname}}
                                {{patronymic}}</a></td>
                    <td>{{birthDate}}</td>
                    <td>{{address.country}}, {{address.locality}}, {{address.street}}, {{address.house}},
                        {{address.apartment}}, {{address.postcode}}</td>
                    <td>{{currentWorkplace}}</td>
                </tr>
                {{/.}}
        </script>
        </tbody></table>
        <div class="majorButtons">
            <button type="button" onclick="deleteContacts()">Delete selected contacts</button>
            <button type="button" onclick="showCreateForm()">Create new contact</button>
        </div>
    </div>
    <div id="createForm">
        <ul class="creator">
            <li>
                <label for="firstName">First Name</label>
                <input type="text" id="firstName" placeholder="Enter first name here">
            </li>
            <li>
                <label for="surname">Surname</label>
                <input type="text" id="surname" placeholder="Enter last name here">
            </li>
            <li>
                <label for="patronymic">Patronymic</label>
                <input type="text" id="patronymic" placeholder="Enter patronymic here">
            </li>
            <li>
                <label for="birthDate">Birth date</label>
                <input type="date" id="birthDate" placeholder="Enter birth date here">
            </li>
            <li>
                <label>Sex</label>
                <p><input type="radio" id="male" onclick="radio('male');">Male</p>
                <p><input type="radio" id="female" onclick="radio('female');">Female</p>
            </li>
            <li>
                <label for="nationality">Nationality</label>
                <input type="text" id="nationality" placeholder="Enter nationality here">
            </li>
            <li>
                <label>Family status</label>
                <p><input type="radio" id="single" onclick="familyStatus('single');">Single</p>
                <p><input type="radio" id="divorced" onclick="familyStatus('divorced');">Divorced</p>
                <p><input type="radio" id="married" onclick="familyStatus('married');">Married</p>
            </li>
            <li>
                <label for="website">Website</label>
                <input type="url" id="website" placeholder="Enter website here">
            </li>
            <li>
                <label for="email">E-mail</label>
                <input type="email" id="email" placeholder="Enter email here">
            </li>
            <li>
                <label for="currentWorkplace">Current workplace</label>
                <input type="text" id="currentWorkplace" placeholder="Enter current workplace here">
            </li>
            <li>
                <label for="country">Country</label>
                <input type="text" id="country" placeholder="Enter country here">
            </li>
            <li>
                <label for="locality">Locality</label>
                <input type="text" id="locality" placeholder="Enter locality here">
            </li>
            <li>
                <label for="street">Street</label>
                <input type="text" id="street" placeholder="Enter street here">
            </li>
            <li>
                <label for="house">House</label>
                <input type="text" id="house" placeholder="Enter house here">
            </li>
            <li>
                <label for="apartment">Apartment</label>
                <input type="text" id="apartment" placeholder="Enter apartment here">
            </li>
            <li>
                <label for="postcode">Postcode</label>
                <input type="text" id="postcode" placeholder="Enter postcode here">
            </li>
            <li>
                <button type="submit" onclick="createContact()">Submit</button>
                <button type="reset">Reset</button>
                <button onclick="showAllContacts()">Cancel</button>
            </li>
        </ul>
    </div>
    <div id="fullContactInfoForm">
        <class id="contact">
            <script type="text/template" id="dynamicContact">
                <p>First Name: {{firstName}}</p>
                <p>Surname: {{surname}}</p>
                <p>Patronymic: {{patronymic}}</p>
                <p>Birth date: {{birthDate}}</p>
                <p>Sex: {{sex}}</p>
                <p>Nationality: {{nationality}}</p>
                <p>Family status: {{familyStatus}}</p>
                <p>Website: {{website}}</p>
                <p>E-mail: {{email}}</p>
                <p>Current workplace: {{currentWorkplace}}</p>
                <p>Country: {{address.country}}</p>
                <p>Locality: {{address.locality}}</p>
                <p>Street: {{address.street}}</p>
                <p>House: {{address.house}}</p>
                <p>Apartment: {{address.apartment}}</p>
                <p>Postcode: {{address.postcode}}</p>
                <button onclick="showEditForm({{id}});">Edit this contact</button>
                <button onclick="deleteContact({{id}});">Delete this contact</button>
                <button onclick="showAllContacts()">Cancel</button>
            </script>
        </class>
    </div>
    <div id="editForm">
        <class id="editor">
            <script type="text/template" id="dynamicContactEditor">
            <li>
                <label for="firstName">First Name</label>
                <input type="text" id="editFirstName"  value={{firstName}}>
            </li>
            <li>
                <label for="surname">Surname</label>
                <input type="text" id="editSurname" value={{surname}}>
            </li>
            <li>
                <label for="patronymic">Patronymic</label>
                <input type="text" id="editPatronymic" value={{patronymic}}>
            </li>
            <li>
                <label for="birthDate">Birth date</label>
                <input type="date" id="editBirthDate" value={{birthDate}}>
            </li>
            <li>
                <label>Sex</label>
                <p><input type="radio" id="editMale" onclick="radioEdit('male');">Male</p>
                <p><input type="radio" id="editFemale" onclick="radioEdit('female');">Female</p>
            </li>
            <li>
                <label for="nationality">Nationality</label>
                <input type="text" id="editNationality" value={{nationality}}>
            </li>
            <li>
                <label>Family status</label>
                <p><input type="radio" id="editSingle" onclick="familyStatusEdit('single');">Single</p>
                <p><input type="radio" id="editDivorced" onclick="familyStatusEdit('divorced');">Divorced</p>
                <p><input type="radio" id="editMarried" onclick="familyStatusEdit('married');">Married</p>
            </li>
            <li>
                <label for="website">Website</label>
                <input type="url" id="editWebsite" value={{website}}>
            </li>
            <li>
                <label for="email">E-mail</label>
                <input type="email" id="editEmail" value={{email}}>
            </li>
            <li>
                <label for="currentWorkplace">Current workplace</label>
                <input type="text" id="editCurrentWorkplace" value={{currentWorkplace}}>
            </li>
            <li>
                <label for="country">Country</label>
                <input type="text" id="editCountry" value={{address.country}}>
            </li>
            <li>
                <label for="locality">Locality</label>
                <input type="text" id="editLocality" value={{address.locality}}>
            </li>
            <li>
                <label for="street">Street</label>
                <input type="text" id="editStreet" value={{address.street}}>
            </li>
            <li>
                <label for="house">House</label>
                <input type="text" id="editHouse" value={{address.house}}>
            </li>
            <li>
                <label for="apartment">Apartment</label>
                <input type="text" id="editApartment" value={{address.apartment}}>
            </li>
            <li>
                <label for="postcode">Postcode</label>
                <input type="text" id="editPostcode" value={{address.postcode}}>
            </li>
            <li>
                <button type="submit" onclick="editContact({{id}});">Submit</button>
                <button type="reset">Reset</button>
                <button onclick="showAllContacts()">Cancel</button>
            </li>
            </script>
        </class>
    </div>
    <div class="footer">
        <a class="foot-text">created by Kirill Karpuk</a>
    </div>
</body>
</html>