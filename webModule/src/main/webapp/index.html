<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Contacts List</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.2.0/mustache.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.3/moment.min.js"></script>
    <script src="https://cdn.polyfill.io/v2/polyfill.js?features=fetch,Promise"></script>
    <script type="text/javascript" src="js/utility.js"></script>
    <script type="text/javascript" src="js/mainForm.js"></script>
    <script type="text/javascript" src="js/createForm.js"></script>
    <script type="text/javascript" src="js/showFullContactInfo.js"></script>
    <script type="text/javascript" src="js/deleting.js"></script>
    <script type="text/javascript" src="js/editForm.js"></script>
    <script type="text/javascript" src="js/attachForm.js"></script>
    <style>
        @import "css/header.css";
        @import "css/footer.css";
        @import "css/mainForm.css";
        @import "css/createForm.css";
        @import "css/editForm.css";
        @import "css/wrapper.css";
        @import "css/attachments.css";
    </style>
    <script type="text/javascript">window.onload = showAllContacts;</script>
</head>
<body>
    <div class="wrapper">
        <div class="header">
            <a class="title" onclick="showAllContacts()">Contacts List</a>
        </div>
        <div class="content">
            <div id="mainForm">
                <script type="text/template" id="dynamicMainTable">
                    <tr>
                        <th><input id="mainCheckbox" type="checkbox" onclick="selectAllCheckboxes('mainCheckbox',
                                    'mainTable')">Name</th>
                        <th>Birth Date</th>
                        <th>Address</th>
                        <th>Current Workplace</th>
                        <th>Actions</th>
                    </tr>
                    {{#.}}
                    <tr>
                        <td><input type="checkbox" value={{id}} onclick="selectCheckbox('mainCheckbox', 'mainTable');">
                            <a onclick="showFullContactInfoForm({{id}});">
                                {{firstName}} {{surname}} {{patronymic}}</a></td>
                        <td>{{birthDate}}</td>
                        <td>{{address.country}}, {{address.locality}}, {{address.street}}, {{address.house}},
                            {{address.apartment}}, {{address.postcode}}</td>
                        <td>{{currentWorkplace}}</td>
                        <td><div id="images"><img src="images/edit.png" onclick="showEditForm({{id}});"/>
                            <img src="images/attachment.png" onclick="showAllAttachments({{id}});"/>
                            <img src="images/delete.png" onclick="deleteContact({{id}});"/></div></td>
                    </tr>
                    {{/.}}
                </script>
                <table id="mainTable" style="border:1px solid black"><tbody></tbody></table>
                <div class="majorButtons">
                    <button type="button" class="button" onclick="showCreateForm()">Create new contact</button>
                    <button type="button" class="button" onclick="deleteContacts()">Delete selected contacts</button>
                </div>
            </div>
            <div id="createForm">
                <ul class="creator">
                    <li>
                        <label for="firstName">First Name</label>
                        <input type="text" id="firstName" placeholder="Enter first name here">
                    </li>
                    <li>
                        <label for="surname">Surname</label>
                        <input type="text" id="surname" placeholder="Enter last name here">
                    </li>
                    <li>
                        <label for="patronymic">Patronymic</label>
                        <input type="text" id="patronymic" placeholder="Enter patronymic here">
                    </li>
                    <li>
                        <label for="birthDate">Birth date</label>
                        <input type="date" id="birthDate" placeholder="Enter birth date here">
                    </li>
                    <li>
                        <label>Sex</label>
                        <fieldset id="sexGroup">
                            <p><input type="radio" id="male" name="sexGroup">Male</p>
                            <p><input type="radio" id="female" name="sexGroup">Female</p>
                        </fieldset>
                    </li>
                    <li>
                        <label for="nationality">Nationality</label>
                        <input type="text" id="nationality" placeholder="Enter nationality here">
                    </li>
                    <li>
                        <label>Family status</label>
                        <fieldset id="fsGroup">
                            <p><input type="radio" name="fsGroup" id="single">Single</p>
                            <p><input type="radio" name="fsGroup" id="divorced">Divorced</p>
                            <p><input type="radio" name="fsGroup" id="married">Married</p>
                        </fieldset>
                    </li>
                    <li>
                        <label for="website">Website</label>
                        <input type="url" id="website" placeholder="Enter website here">
                    </li>
                    <li>
                        <label for="email">E-mail</label>
                        <input type="email" id="email" placeholder="Enter email here">
                    </li>
                    <li>
                        <label for="currentWorkplace">Current workplace</label>
                        <input type="text" id="currentWorkplace" placeholder="Enter current workplace here">
                    </li>
                    <li>
                        <label for="country">Country</label>
                        <input type="text" id="country" placeholder="Enter country here">
                    </li>
                    <li>
                        <label for="locality">Locality</label>
                        <input type="text" id="locality" placeholder="Enter locality here">
                    </li>
                    <li>
                        <label for="street">Street</label>
                        <input type="text" id="street" placeholder="Enter street here">
                    </li>
                    <li>
                        <label for="house">House</label>
                        <input type="text" id="house" placeholder="Enter house here">
                    </li>
                    <li>
                        <label for="apartment">Apartment</label>
                        <input type="text" id="apartment" placeholder="Enter apartment here">
                    </li>
                    <li>
                        <label for="postcode">Postcode</label>
                        <input type="text" id="postcode" placeholder="Enter postcode here">
                    </li>
                    <li>
                        <button type="submit" class="button" onclick="createContact()">Submit</button>
                        <button type="reset" class="button">Reset</button>
                        <button class="button"  onclick="showAllContacts()">Cancel</button>
                    </li>
                </ul>
            </div>
            <div id="fullContactInfoForm">
                <script type="text/template" id="dynamicContact">
                    <p>First Name: {{firstName}}</p>
                    <p>Surname: {{surname}}</p>
                    <p>Patronymic: {{patronymic}}</p>
                    <p>Birth date: {{birthDate}}</p>
                    <p>Sex: {{sex}}</p>
                    <p>Nationality: {{nationality}}</p>
                    <p>Family status: {{familyStatus}}</p>
                    <p>Website: {{website}}</p>
                    <p>E-mail: {{email}}</p>
                    <p>Current workplace: {{currentWorkplace}}</p>
                    <p>Country: {{address.country}}</p>
                    <p>Locality: {{address.locality}}</p>
                    <p>Street: {{address.street}}</p>
                    <p>House: {{address.house}}</p>
                    <p>Apartment: {{address.apartment}}</p>
                    <p>Postcode: {{address.postcode}}</p>
                    <button class="button" onclick="showEditForm({{id}});">Edit this contact</button>
                    <button class="button" onclick="deleteContact({{id}});">Delete this contact</button>
                    <button class="button" onclick="showAllContacts()">Cancel</button>
                </script>
                <div id="contact"></div>
            </div>
            <div id="editForm">
                <script type="text/template" id="dynamicContactEditor">
                    <li>
                        <label for="firstName">First Name</label>
                        <input type="text" id="editFirstName"  value={{firstName}}>
                    </li>
                    <li>
                        <label for="surname">Surname</label>
                        <input type="text" id="editSurname" value={{surname}}>
                    </li>
                    <li>
                        <label for="patronymic">Patronymic</label>
                        <input type="text" id="editPatronymic" value={{patronymic}}>
                    </li>
                    <li>
                        <label for="birthDate">Birth date</label>
                        <input type="date" id="editBirthDate" value={{birthDate}}>
                    </li>
                    <li>
                        <label>Sex</label>
                        <fieldset id="sexEditGroup">
                            <p><input type="radio" name="sexEditGroup" id="editMale">Male</p>
                            <p><input type="radio" name="sexEditGroup" id="editFemale">Female</p>
                        </fieldset>
                    </li>
                    <li>
                        <label for="nationality">Nationality</label>
                        <input type="text" id="editNationality" value={{nationality}}>
                    </li>
                    <li>
                        <label>Family status</label>
                        <fieldset id="fsEditGroup">
                            <p><input type="radio" name="fsEditGroup" id="editSingle">Single</p>
                            <p><input type="radio" name="fsEditGroup" id="editDivorced">Divorced</p>
                            <p><input type="radio" name="fsEditGroup" id="editMarried">Married</p>
                        </fieldset>
                    </li>
                    <li>
                        <label for="website">Website</label>
                        <input type="url" id="editWebsite" value={{website}}>
                    </li>
                    <li>
                        <label for="email">E-mail</label>
                        <input type="email" id="editEmail" value={{email}}>
                    </li>
                    <li>
                        <label for="currentWorkplace">Current workplace</label>
                        <input type="text" id="editCurrentWorkplace" value={{currentWorkplace}}>
                    </li>
                    <li>
                        <label for="country">Country</label>
                        <input type="text" id="editCountry" value={{address.country}}>
                    </li>
                    <li>
                        <label for="locality">Locality</label>
                        <input type="text" id="editLocality" value={{address.locality}}>
                    </li>
                    <li>
                        <label for="street">Street</label>
                        <input type="text" id="editStreet" value={{address.street}}>
                    </li>
                    <li>
                        <label for="house">House</label>
                        <input type="text" id="editHouse" value={{address.house}}>
                    </li>
                    <li>
                        <label for="apartment">Apartment</label>
                        <input type="text" id="editApartment" value={{address.apartment}}>
                    </li>
                    <li>
                        <label for="postcode">Postcode</label>
                        <input type="text" id="editPostcode" value={{address.postcode}}>
                    </li>
                    <li>
                        <button class="button" type="submit" onclick="editContact({{id}});">Submit</button>
                        <button class="button" type="reset">Reset</button>
                        <button class="button" onclick="showAllContacts()">Cancel</button>
                    </li>
                </script>
                <div id="editor"></div>
            </div>
            <div id="attachmentsForm">
                <script type="text/template" id="dynamicAttachTable">
                    <tr>
                        <th><input id="attachCheckbox" type="checkbox" onclick="selectAllCheckboxes('attachCheckbox',
                                'attachTable')">Title</th>
                        <th>Type</th>
                        <th>Size</th>
                        <th>Last update</th>
                        <th>Actions</th>
                    </tr>
                    {{#.}}
                    <tr>
                        <td><input type="checkbox" onclick="selectCheckbox('attachCheckbox', 'attachTable');"
                                   value={{id}}>{{title}}</td>
                        <td>{{type}}</td>
                        <td>{{size}}</td>
                        <td>{{lastUpdate}}</td>
                        <td><div id="atttachImages"><img src="/contactsList/images/download.png"
                                                         onclick="downloadAttach({{id}});"/>
                            <img src="/contactsList/images/delete.png" onclick="deleteAttach({{id}});"/></div></td>
                    </tr>
                    {{/.}}
                </script>
                <table id="attachTable" style="border:1px solid black"><tbody></tbody></table>
                <div class="majorAttachButtons">
                    <input id="attachField" type="file" class="button"/>
                    <button type="button" class="button" onclick="uploadAttach(document
                            .getElementById('attachCheckbox').value)">Upload attachment</button>
                    <button type="button" class="button" onclick="deleteAttachs(document.getElementById('attachCheckbox')
                            .value)">Delete selected attachments</button>
                </div>
            </div>
        </div>
        <div class="footer">
            <a class="foot-text">created by Kirill Karpuk</a>
        </div>
    </div>
</body>
</html>